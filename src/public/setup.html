<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OpenClaw Setup</title>
    <link rel="stylesheet" href="/setup/styles.css" />
  </head>
  <body>
    <!-- ========== TOAST CONTAINER ========== -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- ========== MODAL OVERLAY ========== -->
    <div id="modalOverlay" class="modal-overlay" style="display: none">
      <div class="modal-box">
        <h3 id="modalTitle"></h3>
        <div id="modalBody"></div>
        <div class="modal-actions">
          <button id="modalCancel" class="secondary-button">Cancel</button>
          <button id="modalConfirm">Confirm</button>
        </div>
      </div>
    </div>

    <!-- ========== HEADER ========== -->
    <header class="app-header">
      <div class="header-left">
        <h1>ü¶û OpenClaw</h1>
        <span class="header-badge">Setup Wizard</span>
      </div>
      <div class="header-right">
        <a href="/healthz" target="_blank" class="header-link">Health</a>
        <a href="/openclaw" target="_blank" class="header-link primary"
          >Open UI ‚Üí</a
        >
      </div>
    </header>

    <!-- ========== SYSTEM STATUS DASHBOARD ========== -->
    <div class="card status-dashboard" id="dashboardCard">
      <div class="dashboard-grid">
        <div class="dash-item">
          <span class="dash-label">Gateway</span>
          <span class="dash-value" id="dashGateway"
            ><span class="status-dot gray"></span> Loading...</span
          >
        </div>
        <div class="dash-item">
          <span class="dash-label">Version</span>
          <span class="dash-value" id="dashVersion">‚Äî</span>
        </div>
        <div class="dash-item">
          <span class="dash-label">Channels</span>
          <span class="dash-value" id="dashChannels">‚Äî</span>
        </div>
        <div class="dash-item">
          <span class="dash-label">Tailscale</span>
          <span class="dash-value" id="dashTailscale"
            ><span class="status-dot gray"></span> Not configured</span
          >
        </div>
      </div>
      <div class="dashboard-actions">
        <button id="dashRestart" class="btn-sm secondary-button">
          ‚Üª Restart
        </button>
        <a href="/setup/export" target="_blank" class="btn-sm secondary-button"
          >‚¨á Backup</a
        >
        <button id="dashDoctor" class="btn-sm secondary-button">
          ü©∫ Doctor
        </button>
      </div>
    </div>

    <!-- ========== WIZARD PROGRESS BAR ========== -->
    <div class="wizard-progress" id="wizardProgress">
      <div class="progress-steps">
        <div class="progress-step active" data-step="1">
          <span class="step-num">1</span
          ><span class="step-label">Provider</span>
        </div>
        <div class="progress-connector"></div>
        <div class="progress-step" data-step="2">
          <span class="step-num">2</span
          ><span class="step-label">Channels</span>
        </div>
        <div class="progress-connector"></div>
        <div class="progress-step" data-step="3">
          <span class="step-num">3</span
          ><span class="step-label">Networking</span>
        </div>
        <div class="progress-connector"></div>
        <div class="progress-step" data-step="4">
          <span class="step-num">4</span
          ><span class="step-label">Advanced</span>
        </div>
        <div class="progress-connector"></div>
        <div class="progress-step" data-step="5">
          <span class="step-num">5</span><span class="step-label">Deploy</span>
        </div>
      </div>
    </div>

    <!-- ========== STEP 1: AI PROVIDER ========== -->
    <div class="wizard-step active" data-step="1" id="step1">
      <div class="card">
        <div class="step-header">
          <h2>ü§ñ AI Provider</h2>
          <p class="muted">
            Choose which AI model provider to use with OpenClaw.
          </p>
        </div>

        <div class="provider-categories" id="providerCategories">
          <!-- Rendered by JS -->
        </div>

        <div id="authMethodSection" style="display: none">
          <label>Auth method</label>
          <select id="authChoice">
            <option value="">Select auth method...</option>
          </select>

          <div class="input-group">
            <label>Key / Token</label>
            <div class="password-input">
              <input
                id="authSecret"
                type="password"
                placeholder="Paste API key or token here"
              />
              <button
                type="button"
                class="toggle-vis"
                id="toggleSecret"
                title="Show/hide"
              >
                üëÅ
              </button>
            </div>
            <div id="authSecretHint" class="muted hint-text"></div>
            <div id="authValidation" class="validation-msg"></div>
          </div>
        </div>

        <!-- Hidden select for compatibility -->
        <select id="authGroup" style="display: none">
          <option value="">Select provider group...</option>
        </select>

        <div class="step-nav">
          <div></div>
          <button class="next-btn" id="step1Next">Next: Channels ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- ========== STEP 2: CHANNELS ========== -->
    <div class="wizard-step" data-step="2" id="step2">
      <div class="card">
        <div class="step-header">
          <h2>üí¨ Messaging Channels</h2>
          <p class="muted">
            Connect OpenClaw to messaging platforms. All channels are optional.
          </p>
        </div>

        <div class="channel-tabs">
          <button class="channel-tab active" data-channel="telegram">
            ü§ñ Telegram
          </button>
          <button class="channel-tab" data-channel="discord">üí¨ Discord</button>
          <button class="channel-tab" data-channel="slack">üíº Slack</button>
        </div>

        <!-- Telegram -->
        <div class="channel-panel active" data-channel="telegram">
          <div class="channel-enable">
            <label class="toggle-label">
              <input type="checkbox" id="enableTelegram" />
              <span>Enable Telegram</span>
            </label>
          </div>
          <div class="channel-fields" id="telegramFields" style="display: none">
            <div class="input-group">
              <label>Bot Token</label>
              <div class="password-input">
                <input
                  id="telegramToken"
                  type="password"
                  placeholder="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"
                />
                <button
                  type="button"
                  class="toggle-vis"
                  data-target="telegramToken"
                >
                  üëÅ
                </button>
              </div>
              <div id="telegramValidation" class="validation-msg"></div>
            </div>
            <details class="help-panel">
              <summary>üìñ How to get a Telegram Bot Token</summary>
              <div class="help-content">
                <ol>
                  <li>
                    Open Telegram and search for
                    <a href="https://t.me/BotFather" target="_blank"
                      >@BotFather</a
                    >
                  </li>
                  <li>Send <code>/newbot</code> and follow the prompts</li>
                  <li>
                    Copy the token (looks like <code>123456:ABC-DEF...</code>)
                  </li>
                </ol>
                <a
                  href="https://core.telegram.org/bots/tutorial"
                  target="_blank"
                  class="help-link"
                  >Official Docs ‚Üó</a
                >
              </div>
            </details>
          </div>
        </div>

        <!-- Discord -->
        <div class="channel-panel" data-channel="discord">
          <div class="channel-enable">
            <label class="toggle-label">
              <input type="checkbox" id="enableDiscord" />
              <span>Enable Discord</span>
            </label>
          </div>
          <div class="channel-fields" id="discordFields" style="display: none">
            <div class="alert alert-warning">
              <strong>‚ö†Ô∏è CRITICAL: Enable MESSAGE CONTENT INTENT</strong>
              <p>Your bot <strong>will crash</strong> without this!</p>
              <ol>
                <li>
                  <a
                    href="https://discord.com/developers/applications"
                    target="_blank"
                    >Discord Developer Portal</a
                  >
                  ‚Üí your app ‚Üí <strong>Bot</strong>
                </li>
                <li>Scroll to <strong>Privileged Gateway Intents</strong></li>
                <li>Toggle ON: <strong>MESSAGE CONTENT INTENT</strong></li>
                <li>Click <strong>Save Changes</strong></li>
              </ol>
            </div>
            <div class="input-group">
              <label>Bot Token</label>
              <div class="password-input">
                <input
                  id="discordToken"
                  type="password"
                  placeholder="Paste Discord bot token"
                />
                <button
                  type="button"
                  class="toggle-vis"
                  data-target="discordToken"
                >
                  üëÅ
                </button>
              </div>
              <div id="discordValidation" class="validation-msg"></div>
            </div>
            <details class="help-panel">
              <summary>üìñ How to create a Discord Bot</summary>
              <div class="help-content">
                <ol>
                  <li>
                    Go to
                    <a
                      href="https://discord.com/developers/applications"
                      target="_blank"
                      >Developer Portal</a
                    >
                    ‚Üí New Application
                  </li>
                  <li>
                    Go to <strong>Bot</strong> ‚Üí <strong>Add Bot</strong> ‚Üí Copy
                    Token
                  </li>
                  <li>
                    <strong>Enable MESSAGE CONTENT INTENT</strong> (see above!)
                  </li>
                  <li>
                    Go to <strong>OAuth2 ‚Üí URL Generator</strong>, select
                    <code>bot</code> scope
                  </li>
                  <li>Add permissions: Send Messages, Read Messages</li>
                  <li>Copy the URL and open it to invite the bot</li>
                </ol>
                <a
                  href="https://discord.com/developers/docs/getting-started"
                  target="_blank"
                  class="help-link"
                  >Official Docs ‚Üó</a
                >
              </div>
            </details>
          </div>
        </div>

        <!-- Slack -->
        <div class="channel-panel" data-channel="slack">
          <div class="channel-enable">
            <label class="toggle-label">
              <input type="checkbox" id="enableSlack" />
              <span>Enable Slack</span>
            </label>
          </div>
          <div class="channel-fields" id="slackFields" style="display: none">
            <div class="input-group">
              <label>Bot Token</label>
              <div class="password-input">
                <input
                  id="slackBotToken"
                  type="password"
                  placeholder="xoxb-..."
                />
                <button
                  type="button"
                  class="toggle-vis"
                  data-target="slackBotToken"
                >
                  üëÅ
                </button>
              </div>
            </div>
            <div class="input-group">
              <label>App Token</label>
              <div class="password-input">
                <input
                  id="slackAppToken"
                  type="password"
                  placeholder="xapp-..."
                />
                <button
                  type="button"
                  class="toggle-vis"
                  data-target="slackAppToken"
                >
                  üëÅ
                </button>
              </div>
            </div>
            <details class="help-panel">
              <summary>üìñ How to set up Slack</summary>
              <div class="help-content">
                <p><strong>Slack needs two tokens:</strong></p>
                <ul>
                  <li>
                    <strong>Bot Token</strong> (<code>xoxb-...</code>) ‚Äî for
                    messaging
                  </li>
                  <li>
                    <strong>App Token</strong> (<code>xapp-...</code>) ‚Äî for
                    Socket Mode
                  </li>
                </ul>
                <ol>
                  <li>
                    <a href="https://api.slack.com/apps" target="_blank"
                      >Create an app</a
                    >
                    ‚Üí From scratch
                  </li>
                  <li>
                    Enable <strong>Socket Mode</strong> ‚Üí generate App Token
                  </li>
                  <li>
                    Add OAuth scopes: <code>chat:write</code>,
                    <code>app_mentions:read</code>, <code>im:history</code>
                  </li>
                  <li>Install to workspace ‚Üí copy Bot Token</li>
                </ol>
                <a
                  href="https://api.slack.com/start/building"
                  target="_blank"
                  class="help-link"
                  >Slack Docs ‚Üó</a
                >
              </div>
            </details>
          </div>
        </div>

        <div class="step-nav">
          <button class="back-btn" id="step2Back">‚Üê Back</button>
          <button class="next-btn" id="step2Next">Next: Networking ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- ========== STEP 3: NETWORKING ========== -->
    <div class="wizard-step" data-step="3" id="step3">
      <div class="card">
        <div class="step-header">
          <h2>üåê Networking</h2>
          <p class="muted">
            Set up private networking with Tailscale. Optional ‚Äî skip if you
            only need public access.
          </p>
        </div>

        <div class="channel-enable">
          <label class="toggle-label">
            <input type="checkbox" id="enableTailscale" />
            <span>Enable Tailscale (private networking)</span>
          </label>
        </div>

        <div id="tailscaleFields" style="display: none">
          <div class="info-box">
            <strong>üîí What is Tailscale?</strong>
            <p>
              Creates a private VPN between your devices. Access OpenClaw
              without exposing it publicly. Great for connecting to local LLMs
              (Ollama, vLLM).
            </p>
          </div>

          <div class="input-group">
            <label>Auth Key</label>
            <div class="password-input">
              <input
                id="tailscaleAuthKey"
                type="password"
                placeholder="tskey-auth-..."
              />
              <button
                type="button"
                class="toggle-vis"
                data-target="tailscaleAuthKey"
              >
                üëÅ
              </button>
            </div>
            <div id="tailscaleValidation" class="validation-msg"></div>
          </div>

          <div class="input-group">
            <label>Hostname</label>
            <input
              id="tailscaleHostname"
              type="text"
              placeholder="openclaw-railway"
              value="openclaw-railway"
            />
            <div class="muted hint-text">
              Name of this machine on your Tailscale network
            </div>
          </div>

          <details class="help-panel">
            <summary>üìñ How to get a Tailscale Auth Key</summary>
            <div class="help-content">
              <ol>
                <li>
                  Go to
                  <a
                    href="https://login.tailscale.com/admin/settings/keys"
                    target="_blank"
                    >Tailscale Admin ‚Üí Keys</a
                  >
                </li>
                <li>Click <strong>Generate auth key</strong></li>
                <li>
                  Check <strong>Reusable</strong> (recommended for Railway
                  redeploys)
                </li>
                <li>Copy the key (<code>tskey-auth-...</code>)</li>
              </ol>
              <a
                href="https://tailscale.com/kb/1085/auth-keys"
                target="_blank"
                class="help-link"
                >Tailscale Docs ‚Üó</a
              >
            </div>
          </details>

          <div
            id="tailscaleStatus"
            class="tailscale-status"
            style="display: none"
          ></div>
        </div>

        <div class="step-nav">
          <button class="back-btn" id="step3Back">‚Üê Back</button>
          <button class="next-btn" id="step3Next">Next: Advanced ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- ========== STEP 4: ADVANCED ========== -->
    <div class="wizard-step" data-step="4" id="step4">
      <div class="card">
        <div class="step-header">
          <h2>‚öôÔ∏è Advanced Settings</h2>
          <p class="muted">Custom providers and setup flow. Skip if unsure.</p>
        </div>

        <label>Setup flow</label>
        <select id="flow">
          <option value="quickstart">quickstart ‚Äî fastest setup</option>
          <option value="advanced">advanced ‚Äî more options</option>
          <option value="manual">manual ‚Äî full control</option>
        </select>

        <details class="collapsible-section">
          <summary class="section-toggle">
            ‚ûï Add Custom OpenAI-Compatible Provider
          </summary>
          <div class="section-content">
            <p class="muted">Add a local LLM or custom API endpoint.</p>

            <label>Quick Template</label>
            <select id="customProviderTemplate">
              <option value="">
                ‚Äî Choose template or configure manually ‚Äî
              </option>
              <option value="ollama">Ollama (local)</option>
              <option value="vllm">vLLM (high-performance)</option>
              <option value="lmstudio">LM Studio (desktop)</option>
              <option value="litellm">LiteLLM (proxy)</option>
              <option value="custom">Custom</option>
            </select>

            <div class="input-group">
              <label>Provider ID</label>
              <input
                id="customProviderId"
                type="text"
                placeholder="my-custom-provider"
              />
            </div>
            <div class="input-group">
              <label>Base URL</label>
              <input
                id="customProviderBaseUrl"
                type="text"
                placeholder="http://localhost:11434/v1"
              />
            </div>
            <div class="input-group">
              <label>API Type</label>
              <select id="customProviderApi">
                <option value="">‚Äî Select ‚Äî</option>
                <option value="openai-completions">openai-completions</option>
                <option value="openai-responses">openai-responses</option>
              </select>
            </div>
            <div class="input-group">
              <label>API Key Env Var (optional)</label>
              <input
                id="customProviderApiKeyEnv"
                type="text"
                placeholder="MY_PROVIDER_API_KEY"
              />
            </div>
            <div class="input-group">
              <label>Model ID (optional)</label>
              <input
                id="customProviderModelId"
                type="text"
                placeholder="llama3.2"
              />
            </div>
          </div>
        </details>

        <div class="step-nav">
          <button class="back-btn" id="step4Back">‚Üê Back</button>
          <button class="next-btn" id="step4Next">Review & Deploy ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- ========== STEP 5: REVIEW & DEPLOY ========== -->
    <div class="wizard-step" data-step="5" id="step5">
      <div class="card">
        <div class="step-header">
          <h2>üöÄ Review & Deploy</h2>
          <p class="muted">Review your configuration before running setup.</p>
        </div>

        <div class="review-summary" id="reviewSummary"></div>

        <div class="deploy-actions">
          <button id="run" class="deploy-btn">üöÄ Run Setup</button>
          <button id="reset" class="btn-sm tertiary-button">
            üóë Reset Setup
          </button>
        </div>

        <div
          id="onboardProgress"
          class="onboard-progress"
          style="display: none"
        >
          <div class="progress-item" data-progress="onboard">
            <span class="progress-icon">‚è∏</span> Running onboard command
          </div>
          <div class="progress-item" data-progress="token">
            <span class="progress-icon">‚è∏</span> Syncing gateway token
          </div>
          <div class="progress-item" data-progress="channels">
            <span class="progress-icon">‚è∏</span> Configuring channels
          </div>
          <div class="progress-item" data-progress="tailscale">
            <span class="progress-icon">‚è∏</span> Setting up Tailscale
          </div>
          <div class="progress-item" data-progress="gateway">
            <span class="progress-icon">‚è∏</span> Starting gateway
          </div>
          <div class="progress-item" data-progress="health">
            <span class="progress-icon">‚è∏</span> Verifying health
          </div>
        </div>

        <pre id="log" style="display: none"></pre>

        <div class="step-nav">
          <button class="back-btn" id="step5Back">‚Üê Back</button>
          <div></div>
        </div>
      </div>
    </div>

    <!-- ========== ADMIN TOOLS ========== -->
    <div class="admin-section" id="adminSection">
      <h2 class="section-title">üõ† Admin Tools</h2>

      <details class="card admin-card" open>
        <summary class="admin-toggle"><span>üîë Gateway Access</span></summary>
        <div class="admin-content">
          <p class="muted">
            Your gateway token is needed to access the
            <a href="/openclaw" target="_blank">Control UI</a>. It's auto-saved
            in your browser after setup, but you may need it for other browsers
            or devices.
          </p>
          <div
            style="
              display: flex;
              gap: 0.5rem;
              align-items: center;
              margin-top: 0.75rem;
            "
          >
            <code
              id="adminTokenDisplay"
              style="
                flex: 1;
                padding: 0.5rem 0.75rem;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 0.375rem;
                font-size: 0.82rem;
                word-break: break-all;
                color: var(--text);
                cursor: pointer;
              "
              title="Click to reveal & copy"
              >‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</code
            >
            <button id="adminTokenReveal" class="btn-sm secondary-button">
              üëÅ Reveal
            </button>
            <button id="adminTokenCopy" class="btn-sm">üìã Copy</button>
          </div>
          <div style="margin-top: 0.75rem">
            <a
              href="/openclaw"
              target="_blank"
              class="btn-sm"
              style="
                display: inline-block;
                text-decoration: none;
                text-align: center;
              "
              >Open Control UI ‚Üí</a
            >
          </div>
        </div>
      </details>

      <details class="card admin-card" id="deviceApprovalsCard">
        <summary class="admin-toggle"><span>üì± Device Approvals</span></summary>
        <div class="admin-content">
          <p class="muted" style="margin-bottom: 0.75rem">
            When you click <strong>Connect</strong> in the
            <a href="/openclaw" target="_blank">Control UI</a>, a device pairing
            request appears here. Approve it to start your session.
          </p>
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 0.5rem;
            "
          >
            <span
              id="devicePollIndicator"
              style="font-size: 0.75rem; color: var(--text-muted)"
              >‚è∏ paused</span
            >
            <button id="devicePollToggle" class="btn-sm secondary-button">
              ‚ñ∂ Start polling
            </button>
          </div>
          <div id="pendingDevicesList"></div>
          <p
            id="noDevicesMsg"
            class="muted"
            style="font-style: italic; display: none"
          >
            No pending devices ‚Äî waiting for connection...
          </p>
        </div>
      </details>

      <details class="card admin-card">
        <summary class="admin-toggle"><span>üîß Debug Console</span></summary>
        <div class="admin-content">
          <p class="muted">Run allowlisted OpenClaw commands.</p>
          <div class="console-layout">
            <div class="console-input-area">
              <select id="consoleCommand">
                <option value="">‚Äî Select command ‚Äî</option>
                <optgroup label="Gateway">
                  <option value="gateway.restart">gateway.restart</option>
                  <option value="gateway.stop">gateway.stop</option>
                  <option value="gateway.start">gateway.start</option>
                </optgroup>
                <optgroup label="Status">
                  <option value="openclaw.version">openclaw.version</option>
                  <option value="openclaw.status">openclaw.status</option>
                  <option value="openclaw.health">openclaw.health</option>
                  <option value="openclaw.doctor">openclaw.doctor</option>
                </optgroup>
                <optgroup label="Logs & Config">
                  <option value="openclaw.logs.tail">
                    openclaw.logs.tail (arg: count)
                  </option>
                  <option value="openclaw.config.get">
                    openclaw.config.get (arg: path)
                  </option>
                </optgroup>
                <optgroup label="Devices">
                  <option value="openclaw.devices.list">
                    openclaw.devices.list
                  </option>
                  <option value="openclaw.devices.approve">
                    openclaw.devices.approve (arg: id)
                  </option>
                </optgroup>
                <optgroup label="Plugins">
                  <option value="openclaw.plugins.list">
                    openclaw.plugins.list
                  </option>
                  <option value="openclaw.plugins.enable">
                    openclaw.plugins.enable (arg: name)
                  </option>
                </optgroup>
              </select>
              <input
                id="consoleArg"
                type="text"
                placeholder="Argument (if needed)"
              />
              <button id="consoleRun" class="btn-sm">‚ñ∂ Run</button>
            </div>
            <div class="console-output-area">
              <div class="console-output-header">
                <span class="muted">Output</span>
                <button id="consoleCopy" class="btn-xs secondary-button">
                  üìã Copy
                </button>
              </div>
              <pre id="consoleOutput"></pre>
            </div>
          </div>
        </div>
      </details>

      <details class="card admin-card">
        <summary class="admin-toggle"><span>‚úèÔ∏è Config Editor</span></summary>
        <div class="admin-content">
          <p class="muted">
            Edit <code id="configPath">openclaw.json</code>. Auto-backup before
            save.
          </p>
          <textarea
            id="configContent"
            class="config-editor"
            placeholder="Loading..."
          ></textarea>
          <div class="config-actions">
            <button id="configReload" class="btn-sm secondary-button">
              ‚Üª Reload
            </button>
            <button id="configSave" class="btn-sm">üíæ Save & Restart</button>
          </div>
          <pre id="configOutput"></pre>
        </div>
      </details>

      <details class="card admin-card">
        <summary class="admin-toggle"><span>üîê Channel Pairing</span></summary>
        <div class="admin-content">
          <div
            style="
              padding: 0.75rem 1rem;
              background: rgba(99, 102, 241, 0.08);
              border: 1px solid rgba(99, 102, 241, 0.2);
              border-radius: 0.5rem;
              margin-bottom: 1rem;
            "
          >
            <p
              class="muted"
              style="
                margin-bottom: 0.35rem;
                font-weight: 600;
                color: var(--text);
              "
            >
              How channel pairing works:
            </p>
            <ol
              class="muted"
              style="
                margin: 0;
                padding-left: 1.25rem;
                font-size: 0.82rem;
                line-height: 1.6;
              "
            >
              <li>
                Send any message to your Telegram bot or DM your Discord bot
              </li>
              <li>
                The bot replies with a <strong>pairing code</strong> (e.g.
                <code>77Y4F2R7</code>)
              </li>
              <li>
                Paste the code below, select the channel, and click Approve
              </li>
              <li>The bot will confirm the pairing and start responding!</li>
            </ol>
          </div>
          <div class="pairing-row">
            <select id="pairingChannel">
              <option value="telegram">Telegram</option>
              <option value="discord">Discord</option>
            </select>
            <input id="pairingCode" type="text" placeholder="e.g. 77Y4F2R7" />
            <button id="pairingApprove" class="btn-sm">‚úì Approve</button>
          </div>
          <hr style="border-color: var(--border); margin: 1rem 0" />
          <p class="muted">WebSocket devices (Control UI connections).</p>
          <button
            id="devicesRefresh"
            class="btn-sm secondary-button"
            style="margin-top: 0.5rem"
          >
            ‚Üª Refresh devices
          </button>
          <div id="devicesList"></div>
        </div>
      </details>

      <details class="card admin-card">
        <summary class="admin-toggle"><span>üíæ Import/Export</span></summary>
        <div class="admin-content">
          <div class="backup-row">
            <div>
              <p class="muted">Export config + workspace.</p>
              <a
                href="/setup/export"
                target="_blank"
                class="btn-sm secondary-button"
                >‚¨á Download Backup</a
              >
            </div>
            <div>
              <p class="muted">Restore from backup.</p>
              <input
                id="importFile"
                type="file"
                accept=".tar.gz,.tgz,application/gzip"
              /><button id="importButton" class="btn-sm">‚¨Ü Import</button>
            </div>
          </div>
          <pre id="importOutput"></pre>
        </div>
      </details>
    </div>

    <footer class="app-footer">
      <div class="footer-content">
        <div class="footer-links">
          <a
            href="https://github.com/duc-nguyen-1223/openclaw-railway-template/issues/new"
            target="_blank"
            >üìù Report Issue</a
          >
          <a href="https://discord.gg/openclaw" target="_blank">üí¨ Discord</a>
          <a
            href="https://github.com/duc-nguyen-1223/openclaw-railway-template#readme"
            target="_blank"
            >üìö Docs</a
          >
        </div>
        <p class="muted">
          openclaw-railway-template | Powered by
          <a href="https://github.com/openclaw/openclaw" target="_blank"
            >OpenClaw</a
          >
        </p>
      </div>
    </footer>

    <script src="/setup/app.js"></script>
  </body>
</html>
